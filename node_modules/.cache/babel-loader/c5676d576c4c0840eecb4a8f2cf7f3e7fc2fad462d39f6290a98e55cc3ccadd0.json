{"ast":null,"code":"/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.getGlobalEventBus = getGlobalEventBus;\nexports.clamp = clamp;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.parseQueryString = parseQueryString;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.getVisibleElements = getVisibleElements;\nexports.roundToDivide = roundToDivide;\nexports.getPageSizeInches = getPageSizeInches;\nexports.approximateFraction = approximateFraction;\nexports.getOutputScale = getOutputScale;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.WaitOnType = exports.animationStarted = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.SpreadMode = exports.ScrollMode = exports.TextLayerMode = exports.RendererType = exports.PresentationModeState = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = exports.AutoPrintRegExp = void 0;\nconst CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nconst DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nconst DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nconst MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nconst MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nconst UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nconst MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nconst SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nconst VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nconst RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\nconst NullL10n = {\n  async getLanguage() {\n    return \"en-us\";\n  },\n  async getDirection() {\n    return \"ltr\";\n  },\n  async get(property, args, fallback) {\n    return formatL10nValue(fallback, args);\n  },\n  async translate(element) {}\n};\nexports.NullL10n = NullL10n;\nfunction getOutputScale(ctx) {\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  const backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  const pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\nfunction scrollIntoView(element, spot, skipOverflowHiddenElements = false) {\n  let parent = element.offsetParent;\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n    if (!parent) {\n      return;\n    }\n  }\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n  parent.scrollTop = offsetY;\n}\nfunction watchScroll(viewAreaElement, callback) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\nfunction parseQueryString(query) {\n  const parts = query.split(\"&\");\n  const params = Object.create(null);\n  for (let i = 0, ii = parts.length; i < ii; ++i) {\n    const param = parts[i].split(\"=\");\n    const key = param[0].toLowerCase();\n    const value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n  return params;\n}\nfunction binarySearchFirstItem(items, condition) {\n  let minIndex = 0;\n  let maxIndex = items.length - 1;\n  if (items.length === 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n  return minIndex;\n}\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n  const xinv = 1 / x;\n  const limit = 8;\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n    b = 1,\n    c = 1,\n    d = 1;\n  while (true) {\n    const p = a + c,\n      q = b + d;\n    if (q > limit) {\n      break;\n    }\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n  let result;\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n  return result;\n}\nfunction roundToDivide(x, div) {\n  const r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n    index = i;\n  }\n  return index;\n}\nfunction getVisibleElements(scrollEl, views, sortByVisibility = false, horizontal = false) {\n  const top = scrollEl.scrollTop,\n    bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n    right = left + scrollEl.clientWidth;\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n  function isElementRightAfterViewLeft(view) {\n    const element = view.div;\n    const elementRight = element.offsetLeft + element.clientLeft + element.clientWidth;\n    return elementRight > left;\n  }\n  const visible = [],\n    numViews = views.length;\n  let firstVisibleElementInd = numViews === 0 ? 0 : binarySearchFirstItem(views, horizontal ? isElementRightAfterViewLeft : isElementBottomAfterViewTop);\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n  let lastEdge = horizontal ? right : -1;\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n      element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n      viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const percent = (viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent\n    });\n  }\n  const first = visible[0],\n    last = visible[visible.length - 1];\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n      return a.id - b.id;\n    });\n  }\n  return {\n    first,\n    last,\n    views: visible\n  };\n}\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\nfunction isDataSchema(url) {\n  let i = 0;\n  const ii = url.length;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\nfunction getPDFFileNameFromURL(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\nfunction normalizeWheelEventDelta(evt) {\n  let delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n  const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  const MOUSE_DOM_DELTA_LINE_MODE = 1;\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n  return delta;\n}\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\nfunction waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      resolve(type);\n    }\n    const eventHandler = handler.bind(null, WaitOnType.EVENT);\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n    const timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    const timeout = setTimeout(timeoutHandler, delay);\n  });\n}\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\nfunction dispatchDOMEvent(eventName, args = null) {\n  const details = Object.create(null);\n  if (args && args.length > 0) {\n    const obj = args[0];\n    for (const key in obj) {\n      const value = obj[key];\n      if (key === \"source\") {\n        if (value === window || value === document) {\n          return;\n        }\n        continue;\n      }\n      details[key] = value;\n    }\n  }\n  const event = document.createEvent(\"CustomEvent\");\n  event.initCustomEvent(eventName, true, true, details);\n  document.dispatchEvent(event);\n}\nclass EventBus {\n  constructor({\n    dispatchToDOM = false\n  } = {}) {\n    this._listeners = Object.create(null);\n    this._dispatchToDOM = dispatchToDOM === true;\n    if (dispatchToDOM) {\n      console.error(\"The `eventBusDispatchToDOM` option/preference is deprecated, \" + \"add event listeners to the EventBus instance rather than the DOM.\");\n    }\n  }\n  on(eventName, listener) {\n    this._on(eventName, listener, {\n      external: true\n    });\n  }\n  off(eventName, listener) {\n    this._off(eventName, listener, {\n      external: true\n    });\n  }\n  dispatch(eventName) {\n    const eventListeners = this._listeners[eventName];\n    if (!eventListeners || eventListeners.length === 0) {\n      if (this._dispatchToDOM) {\n        const args = Array.prototype.slice.call(arguments, 1);\n        dispatchDOMEvent(eventName, args);\n      }\n      return;\n    }\n    const args = Array.prototype.slice.call(arguments, 1);\n    let externalListeners;\n    eventListeners.slice(0).forEach(function ({\n      listener,\n      external\n    }) {\n      if (external) {\n        if (!externalListeners) {\n          externalListeners = [];\n        }\n        externalListeners.push(listener);\n        return;\n      }\n      listener.apply(null, args);\n    });\n    if (externalListeners) {\n      externalListeners.forEach(function (listener) {\n        listener.apply(null, args);\n      });\n      externalListeners = null;\n    }\n    if (this._dispatchToDOM) {\n      dispatchDOMEvent(eventName, args);\n    }\n  }\n  _on(eventName, listener, options = null) {\n    let eventListeners = this._listeners[eventName];\n    if (!eventListeners) {\n      this._listeners[eventName] = eventListeners = [];\n    }\n    eventListeners.push({\n      listener,\n      external: (options && options.external) === true\n    });\n  }\n  _off(eventName, listener, options = null) {\n    const eventListeners = this._listeners[eventName];\n    if (!eventListeners) {\n      return;\n    }\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      if (eventListeners[i].listener === listener) {\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n}\nexports.EventBus = EventBus;\nlet globalEventBus = null;\nfunction getGlobalEventBus(dispatchToDOM = false) {\n  console.error(\"getGlobalEventBus is deprecated, use a manually created EventBus instance instead.\");\n  if (!globalEventBus) {\n    globalEventBus = new EventBus({\n      dispatchToDOM\n    });\n  }\n  return globalEventBus;\n}\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\nclass ProgressBar {\n  constructor(id, {\n    height,\n    width,\n    units\n  } = {}) {\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n  _updateBar() {\n    if (this._indeterminate) {\n      this.div.classList.add(\"indeterminate\");\n      this.div.style.width = this.width + this.units;\n      return;\n    }\n    this.div.classList.remove(\"indeterminate\");\n    const progressSize = this.width * this._percent / 100;\n    this.div.style.width = progressSize + this.units;\n  }\n  get percent() {\n    return this._percent;\n  }\n  set percent(val) {\n    this._indeterminate = isNaN(val);\n    this._percent = clamp(val, 0, 100);\n    this._updateBar();\n  }\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n    if (scrollbarWidth > 0) {\n      this.bar.style.width = `calc(100% - ${scrollbarWidth}px)`;\n    }\n  }\n  hide() {\n    if (!this.visible) {\n      return;\n    }\n    this.visible = false;\n    this.bar.classList.add(\"hidden\");\n    document.body.classList.remove(\"loadingInProgress\");\n  }\n  show() {\n    if (this.visible) {\n      return;\n    }\n    this.visible = true;\n    document.body.classList.add(\"loadingInProgress\");\n    this.bar.classList.remove(\"hidden\");\n  }\n}\nexports.ProgressBar = ProgressBar;\nfunction moveToEndOfArray(arr, condition) {\n  const moved = [],\n    len = arr.length;\n  let write = 0;\n  for (let read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n  for (let read = 0; write < len; ++read, ++write) {\n    arr[write] = moved[read];\n  }\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","isValidRotation","isValidScrollMode","isValidSpreadMode","isPortraitOrientation","getGlobalEventBus","clamp","getPDFFileNameFromURL","noContextMenuHandler","parseQueryString","backtrackBeforeAllVisibleElements","getVisibleElements","roundToDivide","getPageSizeInches","approximateFraction","getOutputScale","scrollIntoView","watchScroll","binarySearchFirstItem","normalizeWheelEventDelta","waitOnEventOrTimeout","moveToEndOfArray","WaitOnType","animationStarted","ProgressBar","EventBus","NullL10n","SpreadMode","ScrollMode","TextLayerMode","RendererType","PresentationModeState","VERTICAL_PADDING","SCROLLBAR_PADDING","MAX_AUTO_SCALE","UNKNOWN_SCALE","MAX_SCALE","MIN_SCALE","DEFAULT_SCALE","DEFAULT_SCALE_VALUE","CSS_UNITS","AutoPrintRegExp","UNKNOWN","NORMAL","CHANGING","FULLSCREEN","CANVAS","SVG","DISABLE","ENABLE","ENABLE_ENHANCE","VERTICAL","HORIZONTAL","WRAPPED","NONE","ODD","EVEN","formatL10nValue","text","args","replace","all","name","getLanguage","getDirection","get","property","fallback","translate","element","ctx","devicePixelRatio","window","backingStoreRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","pixelRatio","sx","sy","scaled","spot","skipOverflowHiddenElements","parent","offsetParent","console","error","offsetY","offsetTop","clientTop","offsetX","offsetLeft","clientLeft","clientHeight","scrollHeight","clientWidth","scrollWidth","getComputedStyle","overflow","dataset","_scaleY","_scaleX","top","undefined","left","scrollLeft","scrollTop","viewAreaElement","callback","debounceScroll","evt","rAF","requestAnimationFrame","viewAreaElementScrolled","currentX","lastX","state","right","currentY","lastY","down","_eventHandler","addEventListener","query","parts","split","params","create","i","ii","length","param","key","toLowerCase","decodeURIComponent","items","condition","minIndex","maxIndex","currentIndex","currentItem","x","Math","floor","xinv","limit","x_","a","b","c","d","p","q","result","div","r","round","view","userUnit","rotate","x1","y1","x2","y2","changeOrientation","width","height","index","views","elt","pageTop","scrollEl","sortByVisibility","horizontal","bottom","isElementBottomAfterViewTop","elementBottom","isElementRightAfterViewLeft","elementRight","visible","numViews","firstVisibleElementInd","lastEdge","currentWidth","currentHeight","viewWidth","viewHeight","viewRight","viewBottom","hiddenHeight","max","hiddenWidth","percent","push","id","y","first","last","sort","pc","abs","preventDefault","isDataSchema","url","trim","substring","defaultFilename","warn","reURI","reFilename","splitURI","exec","suggestedFilename","includes","ex","delta","sqrt","deltaX","deltaY","angle","atan2","PI","MOUSE_DOM_DELTA_PIXEL_MODE","MOUSE_DOM_DELTA_LINE_MODE","MOUSE_PIXELS_PER_LINE","MOUSE_LINES_PER_PAGE","deltaMode","Number","isInteger","mode","values","size","EVENT","TIMEOUT","target","delay","Promise","resolve","reject","Error","handler","type","_off","eventHandler","removeEventListener","timeout","clearTimeout","bind","_on","timeoutHandler","setTimeout","dispatchDOMEvent","eventName","details","obj","document","event","createEvent","initCustomEvent","dispatchEvent","constructor","dispatchToDOM","_listeners","_dispatchToDOM","on","listener","external","off","dispatch","eventListeners","Array","prototype","slice","call","arguments","externalListeners","forEach","apply","options","splice","globalEventBus","v","min","units","querySelector","bar","parentNode","style","_updateBar","_indeterminate","classList","add","remove","progressSize","_percent","val","isNaN","setWidth","viewer","container","scrollbarWidth","offsetWidth","hide","body","show","arr","moved","len","write","read"],"sources":["C:/Users/SOUMYADIP GHOSH/OneDrive/Desktop/college project/node_modules/pdfjs-dist/lib/web/ui_utils.js"],"sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * Javascript code in this page\n *\n * Copyright 2020 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * Javascript code in this page\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isValidRotation = isValidRotation;\nexports.isValidScrollMode = isValidScrollMode;\nexports.isValidSpreadMode = isValidSpreadMode;\nexports.isPortraitOrientation = isPortraitOrientation;\nexports.getGlobalEventBus = getGlobalEventBus;\nexports.clamp = clamp;\nexports.getPDFFileNameFromURL = getPDFFileNameFromURL;\nexports.noContextMenuHandler = noContextMenuHandler;\nexports.parseQueryString = parseQueryString;\nexports.backtrackBeforeAllVisibleElements = backtrackBeforeAllVisibleElements;\nexports.getVisibleElements = getVisibleElements;\nexports.roundToDivide = roundToDivide;\nexports.getPageSizeInches = getPageSizeInches;\nexports.approximateFraction = approximateFraction;\nexports.getOutputScale = getOutputScale;\nexports.scrollIntoView = scrollIntoView;\nexports.watchScroll = watchScroll;\nexports.binarySearchFirstItem = binarySearchFirstItem;\nexports.normalizeWheelEventDelta = normalizeWheelEventDelta;\nexports.waitOnEventOrTimeout = waitOnEventOrTimeout;\nexports.moveToEndOfArray = moveToEndOfArray;\nexports.WaitOnType = exports.animationStarted = exports.ProgressBar = exports.EventBus = exports.NullL10n = exports.SpreadMode = exports.ScrollMode = exports.TextLayerMode = exports.RendererType = exports.PresentationModeState = exports.VERTICAL_PADDING = exports.SCROLLBAR_PADDING = exports.MAX_AUTO_SCALE = exports.UNKNOWN_SCALE = exports.MAX_SCALE = exports.MIN_SCALE = exports.DEFAULT_SCALE = exports.DEFAULT_SCALE_VALUE = exports.CSS_UNITS = exports.AutoPrintRegExp = void 0;\nconst CSS_UNITS = 96.0 / 72.0;\nexports.CSS_UNITS = CSS_UNITS;\nconst DEFAULT_SCALE_VALUE = \"auto\";\nexports.DEFAULT_SCALE_VALUE = DEFAULT_SCALE_VALUE;\nconst DEFAULT_SCALE = 1.0;\nexports.DEFAULT_SCALE = DEFAULT_SCALE;\nconst MIN_SCALE = 0.1;\nexports.MIN_SCALE = MIN_SCALE;\nconst MAX_SCALE = 10.0;\nexports.MAX_SCALE = MAX_SCALE;\nconst UNKNOWN_SCALE = 0;\nexports.UNKNOWN_SCALE = UNKNOWN_SCALE;\nconst MAX_AUTO_SCALE = 1.25;\nexports.MAX_AUTO_SCALE = MAX_AUTO_SCALE;\nconst SCROLLBAR_PADDING = 40;\nexports.SCROLLBAR_PADDING = SCROLLBAR_PADDING;\nconst VERTICAL_PADDING = 5;\nexports.VERTICAL_PADDING = VERTICAL_PADDING;\nconst PresentationModeState = {\n  UNKNOWN: 0,\n  NORMAL: 1,\n  CHANGING: 2,\n  FULLSCREEN: 3\n};\nexports.PresentationModeState = PresentationModeState;\nconst RendererType = {\n  CANVAS: \"canvas\",\n  SVG: \"svg\"\n};\nexports.RendererType = RendererType;\nconst TextLayerMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_ENHANCE: 2\n};\nexports.TextLayerMode = TextLayerMode;\nconst ScrollMode = {\n  UNKNOWN: -1,\n  VERTICAL: 0,\n  HORIZONTAL: 1,\n  WRAPPED: 2\n};\nexports.ScrollMode = ScrollMode;\nconst SpreadMode = {\n  UNKNOWN: -1,\n  NONE: 0,\n  ODD: 1,\n  EVEN: 2\n};\nexports.SpreadMode = SpreadMode;\nconst AutoPrintRegExp = /\\bprint\\s*\\(/;\nexports.AutoPrintRegExp = AutoPrintRegExp;\n\nfunction formatL10nValue(text, args) {\n  if (!args) {\n    return text;\n  }\n\n  return text.replace(/\\{\\{\\s*(\\w+)\\s*\\}\\}/g, (all, name) => {\n    return name in args ? args[name] : \"{{\" + name + \"}}\";\n  });\n}\n\nconst NullL10n = {\n  async getLanguage() {\n    return \"en-us\";\n  },\n\n  async getDirection() {\n    return \"ltr\";\n  },\n\n  async get(property, args, fallback) {\n    return formatL10nValue(fallback, args);\n  },\n\n  async translate(element) {}\n\n};\nexports.NullL10n = NullL10n;\n\nfunction getOutputScale(ctx) {\n  const devicePixelRatio = window.devicePixelRatio || 1;\n  const backingStoreRatio = ctx.webkitBackingStorePixelRatio || ctx.mozBackingStorePixelRatio || ctx.msBackingStorePixelRatio || ctx.oBackingStorePixelRatio || ctx.backingStorePixelRatio || 1;\n  const pixelRatio = devicePixelRatio / backingStoreRatio;\n  return {\n    sx: pixelRatio,\n    sy: pixelRatio,\n    scaled: pixelRatio !== 1\n  };\n}\n\nfunction scrollIntoView(element, spot, skipOverflowHiddenElements = false) {\n  let parent = element.offsetParent;\n\n  if (!parent) {\n    console.error(\"offsetParent is not set -- cannot scroll\");\n    return;\n  }\n\n  let offsetY = element.offsetTop + element.clientTop;\n  let offsetX = element.offsetLeft + element.clientLeft;\n\n  while (parent.clientHeight === parent.scrollHeight && parent.clientWidth === parent.scrollWidth || skipOverflowHiddenElements && getComputedStyle(parent).overflow === \"hidden\") {\n    if (parent.dataset._scaleY) {\n      offsetY /= parent.dataset._scaleY;\n      offsetX /= parent.dataset._scaleX;\n    }\n\n    offsetY += parent.offsetTop;\n    offsetX += parent.offsetLeft;\n    parent = parent.offsetParent;\n\n    if (!parent) {\n      return;\n    }\n  }\n\n  if (spot) {\n    if (spot.top !== undefined) {\n      offsetY += spot.top;\n    }\n\n    if (spot.left !== undefined) {\n      offsetX += spot.left;\n      parent.scrollLeft = offsetX;\n    }\n  }\n\n  parent.scrollTop = offsetY;\n}\n\nfunction watchScroll(viewAreaElement, callback) {\n  const debounceScroll = function (evt) {\n    if (rAF) {\n      return;\n    }\n\n    rAF = window.requestAnimationFrame(function viewAreaElementScrolled() {\n      rAF = null;\n      const currentX = viewAreaElement.scrollLeft;\n      const lastX = state.lastX;\n\n      if (currentX !== lastX) {\n        state.right = currentX > lastX;\n      }\n\n      state.lastX = currentX;\n      const currentY = viewAreaElement.scrollTop;\n      const lastY = state.lastY;\n\n      if (currentY !== lastY) {\n        state.down = currentY > lastY;\n      }\n\n      state.lastY = currentY;\n      callback(state);\n    });\n  };\n\n  const state = {\n    right: true,\n    down: true,\n    lastX: viewAreaElement.scrollLeft,\n    lastY: viewAreaElement.scrollTop,\n    _eventHandler: debounceScroll\n  };\n  let rAF = null;\n  viewAreaElement.addEventListener(\"scroll\", debounceScroll, true);\n  return state;\n}\n\nfunction parseQueryString(query) {\n  const parts = query.split(\"&\");\n  const params = Object.create(null);\n\n  for (let i = 0, ii = parts.length; i < ii; ++i) {\n    const param = parts[i].split(\"=\");\n    const key = param[0].toLowerCase();\n    const value = param.length > 1 ? param[1] : null;\n    params[decodeURIComponent(key)] = decodeURIComponent(value);\n  }\n\n  return params;\n}\n\nfunction binarySearchFirstItem(items, condition) {\n  let minIndex = 0;\n  let maxIndex = items.length - 1;\n\n  if (items.length === 0 || !condition(items[maxIndex])) {\n    return items.length;\n  }\n\n  if (condition(items[minIndex])) {\n    return minIndex;\n  }\n\n  while (minIndex < maxIndex) {\n    const currentIndex = minIndex + maxIndex >> 1;\n    const currentItem = items[currentIndex];\n\n    if (condition(currentItem)) {\n      maxIndex = currentIndex;\n    } else {\n      minIndex = currentIndex + 1;\n    }\n  }\n\n  return minIndex;\n}\n\nfunction approximateFraction(x) {\n  if (Math.floor(x) === x) {\n    return [x, 1];\n  }\n\n  const xinv = 1 / x;\n  const limit = 8;\n\n  if (xinv > limit) {\n    return [1, limit];\n  } else if (Math.floor(xinv) === xinv) {\n    return [1, xinv];\n  }\n\n  const x_ = x > 1 ? xinv : x;\n  let a = 0,\n      b = 1,\n      c = 1,\n      d = 1;\n\n  while (true) {\n    const p = a + c,\n          q = b + d;\n\n    if (q > limit) {\n      break;\n    }\n\n    if (x_ <= p / q) {\n      c = p;\n      d = q;\n    } else {\n      a = p;\n      b = q;\n    }\n  }\n\n  let result;\n\n  if (x_ - a / b < c / d - x_) {\n    result = x_ === x ? [a, b] : [b, a];\n  } else {\n    result = x_ === x ? [c, d] : [d, c];\n  }\n\n  return result;\n}\n\nfunction roundToDivide(x, div) {\n  const r = x % div;\n  return r === 0 ? x : Math.round(x - r + div);\n}\n\nfunction getPageSizeInches({\n  view,\n  userUnit,\n  rotate\n}) {\n  const [x1, y1, x2, y2] = view;\n  const changeOrientation = rotate % 180 !== 0;\n  const width = (x2 - x1) / 72 * userUnit;\n  const height = (y2 - y1) / 72 * userUnit;\n  return {\n    width: changeOrientation ? height : width,\n    height: changeOrientation ? width : height\n  };\n}\n\nfunction backtrackBeforeAllVisibleElements(index, views, top) {\n  if (index < 2) {\n    return index;\n  }\n\n  let elt = views[index].div;\n  let pageTop = elt.offsetTop + elt.clientTop;\n\n  if (pageTop >= top) {\n    elt = views[index - 1].div;\n    pageTop = elt.offsetTop + elt.clientTop;\n  }\n\n  for (let i = index - 2; i >= 0; --i) {\n    elt = views[i].div;\n\n    if (elt.offsetTop + elt.clientTop + elt.clientHeight <= pageTop) {\n      break;\n    }\n\n    index = i;\n  }\n\n  return index;\n}\n\nfunction getVisibleElements(scrollEl, views, sortByVisibility = false, horizontal = false) {\n  const top = scrollEl.scrollTop,\n        bottom = top + scrollEl.clientHeight;\n  const left = scrollEl.scrollLeft,\n        right = left + scrollEl.clientWidth;\n\n  function isElementBottomAfterViewTop(view) {\n    const element = view.div;\n    const elementBottom = element.offsetTop + element.clientTop + element.clientHeight;\n    return elementBottom > top;\n  }\n\n  function isElementRightAfterViewLeft(view) {\n    const element = view.div;\n    const elementRight = element.offsetLeft + element.clientLeft + element.clientWidth;\n    return elementRight > left;\n  }\n\n  const visible = [],\n        numViews = views.length;\n  let firstVisibleElementInd = numViews === 0 ? 0 : binarySearchFirstItem(views, horizontal ? isElementRightAfterViewLeft : isElementBottomAfterViewTop);\n\n  if (firstVisibleElementInd > 0 && firstVisibleElementInd < numViews && !horizontal) {\n    firstVisibleElementInd = backtrackBeforeAllVisibleElements(firstVisibleElementInd, views, top);\n  }\n\n  let lastEdge = horizontal ? right : -1;\n\n  for (let i = firstVisibleElementInd; i < numViews; i++) {\n    const view = views[i],\n          element = view.div;\n    const currentWidth = element.offsetLeft + element.clientLeft;\n    const currentHeight = element.offsetTop + element.clientTop;\n    const viewWidth = element.clientWidth,\n          viewHeight = element.clientHeight;\n    const viewRight = currentWidth + viewWidth;\n    const viewBottom = currentHeight + viewHeight;\n\n    if (lastEdge === -1) {\n      if (viewBottom >= bottom) {\n        lastEdge = viewBottom;\n      }\n    } else if ((horizontal ? currentWidth : currentHeight) > lastEdge) {\n      break;\n    }\n\n    if (viewBottom <= top || currentHeight >= bottom || viewRight <= left || currentWidth >= right) {\n      continue;\n    }\n\n    const hiddenHeight = Math.max(0, top - currentHeight) + Math.max(0, viewBottom - bottom);\n    const hiddenWidth = Math.max(0, left - currentWidth) + Math.max(0, viewRight - right);\n    const percent = (viewHeight - hiddenHeight) * (viewWidth - hiddenWidth) * 100 / viewHeight / viewWidth | 0;\n    visible.push({\n      id: view.id,\n      x: currentWidth,\n      y: currentHeight,\n      view,\n      percent\n    });\n  }\n\n  const first = visible[0],\n        last = visible[visible.length - 1];\n\n  if (sortByVisibility) {\n    visible.sort(function (a, b) {\n      const pc = a.percent - b.percent;\n\n      if (Math.abs(pc) > 0.001) {\n        return -pc;\n      }\n\n      return a.id - b.id;\n    });\n  }\n\n  return {\n    first,\n    last,\n    views: visible\n  };\n}\n\nfunction noContextMenuHandler(evt) {\n  evt.preventDefault();\n}\n\nfunction isDataSchema(url) {\n  let i = 0;\n  const ii = url.length;\n\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\n\nfunction getPDFFileNameFromURL(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n\n  if (isDataSchema(url)) {\n    console.warn(\"getPDFFileNameFromURL: \" + 'ignoring \"data:\" URL for performance reasons.');\n    return defaultFilename;\n  }\n\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^\\/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^\\/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch (ex) {}\n    }\n  }\n\n  return suggestedFilename || defaultFilename;\n}\n\nfunction normalizeWheelEventDelta(evt) {\n  let delta = Math.sqrt(evt.deltaX * evt.deltaX + evt.deltaY * evt.deltaY);\n  const angle = Math.atan2(evt.deltaY, evt.deltaX);\n\n  if (-0.25 * Math.PI < angle && angle < 0.75 * Math.PI) {\n    delta = -delta;\n  }\n\n  const MOUSE_DOM_DELTA_PIXEL_MODE = 0;\n  const MOUSE_DOM_DELTA_LINE_MODE = 1;\n  const MOUSE_PIXELS_PER_LINE = 30;\n  const MOUSE_LINES_PER_PAGE = 30;\n\n  if (evt.deltaMode === MOUSE_DOM_DELTA_PIXEL_MODE) {\n    delta /= MOUSE_PIXELS_PER_LINE * MOUSE_LINES_PER_PAGE;\n  } else if (evt.deltaMode === MOUSE_DOM_DELTA_LINE_MODE) {\n    delta /= MOUSE_LINES_PER_PAGE;\n  }\n\n  return delta;\n}\n\nfunction isValidRotation(angle) {\n  return Number.isInteger(angle) && angle % 90 === 0;\n}\n\nfunction isValidScrollMode(mode) {\n  return Number.isInteger(mode) && Object.values(ScrollMode).includes(mode) && mode !== ScrollMode.UNKNOWN;\n}\n\nfunction isValidSpreadMode(mode) {\n  return Number.isInteger(mode) && Object.values(SpreadMode).includes(mode) && mode !== SpreadMode.UNKNOWN;\n}\n\nfunction isPortraitOrientation(size) {\n  return size.width <= size.height;\n}\n\nconst WaitOnType = {\n  EVENT: \"event\",\n  TIMEOUT: \"timeout\"\n};\nexports.WaitOnType = WaitOnType;\n\nfunction waitOnEventOrTimeout({\n  target,\n  name,\n  delay = 0\n}) {\n  return new Promise(function (resolve, reject) {\n    if (typeof target !== \"object\" || !(name && typeof name === \"string\") || !(Number.isInteger(delay) && delay >= 0)) {\n      throw new Error(\"waitOnEventOrTimeout - invalid parameters.\");\n    }\n\n    function handler(type) {\n      if (target instanceof EventBus) {\n        target._off(name, eventHandler);\n      } else {\n        target.removeEventListener(name, eventHandler);\n      }\n\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      resolve(type);\n    }\n\n    const eventHandler = handler.bind(null, WaitOnType.EVENT);\n\n    if (target instanceof EventBus) {\n      target._on(name, eventHandler);\n    } else {\n      target.addEventListener(name, eventHandler);\n    }\n\n    const timeoutHandler = handler.bind(null, WaitOnType.TIMEOUT);\n    const timeout = setTimeout(timeoutHandler, delay);\n  });\n}\n\nconst animationStarted = new Promise(function (resolve) {\n  window.requestAnimationFrame(resolve);\n});\nexports.animationStarted = animationStarted;\n\nfunction dispatchDOMEvent(eventName, args = null) {\n  const details = Object.create(null);\n\n  if (args && args.length > 0) {\n    const obj = args[0];\n\n    for (const key in obj) {\n      const value = obj[key];\n\n      if (key === \"source\") {\n        if (value === window || value === document) {\n          return;\n        }\n\n        continue;\n      }\n\n      details[key] = value;\n    }\n  }\n\n  const event = document.createEvent(\"CustomEvent\");\n  event.initCustomEvent(eventName, true, true, details);\n  document.dispatchEvent(event);\n}\n\nclass EventBus {\n  constructor({\n    dispatchToDOM = false\n  } = {}) {\n    this._listeners = Object.create(null);\n    this._dispatchToDOM = dispatchToDOM === true;\n\n    if (dispatchToDOM) {\n      console.error(\"The `eventBusDispatchToDOM` option/preference is deprecated, \" + \"add event listeners to the EventBus instance rather than the DOM.\");\n    }\n  }\n\n  on(eventName, listener) {\n    this._on(eventName, listener, {\n      external: true\n    });\n  }\n\n  off(eventName, listener) {\n    this._off(eventName, listener, {\n      external: true\n    });\n  }\n\n  dispatch(eventName) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners || eventListeners.length === 0) {\n      if (this._dispatchToDOM) {\n        const args = Array.prototype.slice.call(arguments, 1);\n        dispatchDOMEvent(eventName, args);\n      }\n\n      return;\n    }\n\n    const args = Array.prototype.slice.call(arguments, 1);\n    let externalListeners;\n    eventListeners.slice(0).forEach(function ({\n      listener,\n      external\n    }) {\n      if (external) {\n        if (!externalListeners) {\n          externalListeners = [];\n        }\n\n        externalListeners.push(listener);\n        return;\n      }\n\n      listener.apply(null, args);\n    });\n\n    if (externalListeners) {\n      externalListeners.forEach(function (listener) {\n        listener.apply(null, args);\n      });\n      externalListeners = null;\n    }\n\n    if (this._dispatchToDOM) {\n      dispatchDOMEvent(eventName, args);\n    }\n  }\n\n  _on(eventName, listener, options = null) {\n    let eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      this._listeners[eventName] = eventListeners = [];\n    }\n\n    eventListeners.push({\n      listener,\n      external: (options && options.external) === true\n    });\n  }\n\n  _off(eventName, listener, options = null) {\n    const eventListeners = this._listeners[eventName];\n\n    if (!eventListeners) {\n      return;\n    }\n\n    for (let i = 0, ii = eventListeners.length; i < ii; i++) {\n      if (eventListeners[i].listener === listener) {\n        eventListeners.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n}\n\nexports.EventBus = EventBus;\nlet globalEventBus = null;\n\nfunction getGlobalEventBus(dispatchToDOM = false) {\n  console.error(\"getGlobalEventBus is deprecated, use a manually created EventBus instance instead.\");\n\n  if (!globalEventBus) {\n    globalEventBus = new EventBus({\n      dispatchToDOM\n    });\n  }\n\n  return globalEventBus;\n}\n\nfunction clamp(v, min, max) {\n  return Math.min(Math.max(v, min), max);\n}\n\nclass ProgressBar {\n  constructor(id, {\n    height,\n    width,\n    units\n  } = {}) {\n    this.visible = true;\n    this.div = document.querySelector(id + \" .progress\");\n    this.bar = this.div.parentNode;\n    this.height = height || 100;\n    this.width = width || 100;\n    this.units = units || \"%\";\n    this.div.style.height = this.height + this.units;\n    this.percent = 0;\n  }\n\n  _updateBar() {\n    if (this._indeterminate) {\n      this.div.classList.add(\"indeterminate\");\n      this.div.style.width = this.width + this.units;\n      return;\n    }\n\n    this.div.classList.remove(\"indeterminate\");\n    const progressSize = this.width * this._percent / 100;\n    this.div.style.width = progressSize + this.units;\n  }\n\n  get percent() {\n    return this._percent;\n  }\n\n  set percent(val) {\n    this._indeterminate = isNaN(val);\n    this._percent = clamp(val, 0, 100);\n\n    this._updateBar();\n  }\n\n  setWidth(viewer) {\n    if (!viewer) {\n      return;\n    }\n\n    const container = viewer.parentNode;\n    const scrollbarWidth = container.offsetWidth - viewer.offsetWidth;\n\n    if (scrollbarWidth > 0) {\n      this.bar.style.width = `calc(100% - ${scrollbarWidth}px)`;\n    }\n  }\n\n  hide() {\n    if (!this.visible) {\n      return;\n    }\n\n    this.visible = false;\n    this.bar.classList.add(\"hidden\");\n    document.body.classList.remove(\"loadingInProgress\");\n  }\n\n  show() {\n    if (this.visible) {\n      return;\n    }\n\n    this.visible = true;\n    document.body.classList.add(\"loadingInProgress\");\n    this.bar.classList.remove(\"hidden\");\n  }\n\n}\n\nexports.ProgressBar = ProgressBar;\n\nfunction moveToEndOfArray(arr, condition) {\n  const moved = [],\n        len = arr.length;\n  let write = 0;\n\n  for (let read = 0; read < len; ++read) {\n    if (condition(arr[read])) {\n      moved.push(arr[read]);\n    } else {\n      arr[write] = arr[read];\n      ++write;\n    }\n  }\n\n  for (let read = 0; write < len; ++read, ++write) {\n    arr[write] = moved[read];\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}